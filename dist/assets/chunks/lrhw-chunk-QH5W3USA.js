import{b as G,c as W}from"./lrhw-chunk-DANU5XRW.js";import{a as q}from"./lrhw-chunk-5AXH33VP.js";import{a as H,b as J,c as K,d as Q}from"./lrhw-chunk-645KYWXS.js";import{b as N}from"./lrhw-chunk-VGORTJSX.js";import"./lrhw-chunk-7OANUOHB.js";import{a as O}from"./lrhw-chunk-DBLSEV5S.js";import"./lrhw-chunk-4HVPCFNT.js";import{a as V}from"./lrhw-chunk-ICXRPRLI.js";import{a as io,b as X,c as L}from"./lrhw-chunk-QMODASQA.js";import{e as U,f as _,g as j,j as M}from"./lrhw-chunk-GXYRYNUY.js";import{A as k,B as F,C,D as P,E as I,F as v,G as z,H as B,N as A,e as p,f as D,g as l,h as so,j as u,o as R,p as c,q as x,r as b,t as T}from"./lrhw-chunk-KSXZ66RT.js";l();var y=p(so());l();l();var Y=p(io());var o=p(u());Y.default.registerLocale(X);var mo={views:(0,o.jsx)(N,{}),downloads:(0,o.jsx)(H,{}),outlinks:(0,o.jsx)(J,{}),conversions:(0,o.jsx)(K,{})},Z=({country:f,eventLabels:t,t:r})=>(0,o.jsx)(T,{children:(0,o.jsxs)(x,{gridTemplateColumns:{base:"repeat(1, minmax(0px, 1fr))",md:"repeat(2, minmax(0px, 1fr))",lg:"repeat(5, minmax(0px, 1fr))"},gap:"4",children:[(0,o.jsx)(c,{padding:"4",shadow:"sm",borderRadius:"12",children:(0,o.jsxs)(T,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,o.jsxs)(x,{children:[(0,o.jsxs)(T,{display:"flex",gap:"2",children:[(0,o.jsx)(b,{as:"span",fontWeight:"600",color:"gray",fontSize:"1.1rem",children:r("country")}),(0,o.jsx)(A,{label:r("tooltip-by-country-panel"),fontSize:"md",children:(0,o.jsx)(O,{fontSize:"12px",color:"teal"})})]}),(0,o.jsx)(b,{as:"span",fontWeight:"700",fontSize:"1.1rem",overflow:"hidden",whiteSpace:"nowrap",isTruncated:!0,children:f.name})]}),(0,o.jsx)(c,{p:"4",bg:"gray.100",variant:"elevated",shadow:"xs",borderRadius:"12",children:(0,o.jsx)(Q,{})})]})}),Object.keys(t).map((a,m)=>{var d;return(0,o.jsx)(c,{padding:"4",shadow:"sm",borderRadius:"12",children:(0,o.jsxs)(T,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,o.jsxs)(x,{children:[(0,o.jsx)(b,{as:"span",fontWeight:"600",fontSize:"1.1rem",color:"gray",children:t[a]}),(0,o.jsx)(b,{as:"span",fontWeight:"bold",fontSize:"1.3rem",children:((d=f[a])==null?void 0:d.toLocaleString())||0})]}),(0,o.jsx)(c,{p:"4",bg:"gray.100",variant:"elevated",shadow:"xs",borderRadius:"12",children:mo[a]})]})},m)})]})});l();l();var h=p(u()),$=({data:f,t})=>{let r=()=>{let m=L(f),d=[t("country"),t("views"),t("downloads"),t("outlinks"),t("conversions"),t("total-events")],n=m.map(s=>[t(s.name),s.views,s.downloads,s.outlinks,s.conversions,s.value].join(","));return[d.join(","),...n].join(`
`)};return(0,h.jsx)(C,{children:(0,h.jsx)(v,{children:(0,h.jsx)(R,{onClick:()=>{let m=r(),d=new Blob([m],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(d),s=document.createElement("a");s.href=n,s.download="data.csv",s.click(),URL.revokeObjectURL(n)},colorScheme:"teal",children:t("csv-button")})})})};var e=p(u()),oo=({data:f,eventLabels:t,t:r})=>(0,e.jsx)(c,{padding:"4",shadow:"sm",borderRadius:"12",mt:6,children:(0,e.jsx)(P,{children:(0,e.jsxs)(k,{variant:"striped",colorScheme:"gray",size:"lg",children:[(0,e.jsx)(F,{children:(0,e.jsxs)(C,{children:[(0,e.jsx)(B,{children:r("country")}),Object.keys(t).map((a,m)=>(0,e.jsx)(B,{children:t[a]},m))]})}),(0,e.jsx)(I,{children:L(f).map(a=>(0,e.jsxs)(C,{children:[(0,e.jsx)(v,{children:a.name}),M.map((m,d)=>{var n;return(0,e.jsx)(v,{children:((n=a[m])==null?void 0:n.toLocaleString())||0},d)})]},a.name))}),(0,e.jsx)(z,{display:"flex",justifyContent:"start",py:"4",children:(0,e.jsx)($,{data:f,t:r})})]})})});var i=p(u()),po=y.default.lazy(()=>import("./lrhw-chunk-QA7RQAES.js")),lo=y.default.lazy(()=>import("./lrhw-chunk-HJ44HDUJ.js")),co=({tabIndex:f,eventLabels:t,t:r,selectedRepository:a,startDate:m,endDate:d})=>{let[n,s]=(0,y.useState)(),[to,S]=(0,y.useState)(!1),[eo,ro]=(0,y.useState)(!1),[w,ao]=(0,y.useState)(),no=()=>D(void 0,null,function*(){S(!0);try{let g=yield W(G,a.value,m||U,d||_,j);g.country?s(g):ro(!0),S(!1)}catch(g){console.error("Error fetching data:",g)}});return(0,y.useEffect)(()=>{no()},[]),(0,i.jsxs)(T,{children:[to&&(0,i.jsx)(V,{}),eo&&(0,i.jsx)(q,{errorMessage:"Mensaje de error"}),n&&(0,i.jsxs)(T,{children:[w&&(0,i.jsx)(Z,{country:w,eventLabels:t,t:r}),(0,i.jsx)(c,{padding:"4",shadow:"sm",borderRadius:"12",my:"6",children:(0,i.jsx)(lo,{tabIndex:f,data:n,setCountry:ao,t:r})}),(0,i.jsx)(c,{padding:"4",shadow:"sm",borderRadius:"12",children:(0,i.jsx)(po,{data:n,t:r})}),(0,i.jsx)(oo,{data:n,eventLabels:t,t:r})]})]})},qo=co;export{qo as default};
